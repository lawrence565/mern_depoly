{"ast":null,"code":"var _jsxFileName = \"/Users/Lawrence/Documents/\\u7A0B\\u5F0F\\u8A2D\\u8A08\\u5B78\\u7FD2/\\u7DB2\\u9801\\u5168\\u7AEF\\u958B\\u767C/\\u5BE6\\u4F5C\\u4F5C\\u54C1/\\u5BE6\\u4F5C9_Mern\\u5C08\\u6848/client/src/components/postCourse-component.js\";\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport CourseService from \"../services/course.service\";\nconst PostCourseComponent = props => {\n  let {\n    currentUser,\n    setCurrentUser\n  } = props;\n  let [title, setTitle] = useState(\"\");\n  let [description, setDescription] = useState(\"\");\n  let [price, setPrice] = useState(0);\n  let [message, setMessage] = useState(\"\");\n  const navigate = useNavigate();\n  const handleTakeToLogin = () => {\n    navigate(\"/login\");\n  };\n  const handleChangeTitle = e => {\n    setTitle(e.target.value);\n  };\n  const handleChangeDesciption = e => {\n    setDescription(e.target.value);\n  };\n  const handleChangePrice = e => {\n    setPrice(e.target.value);\n  };\n  const postCourse = () => {\n    CourseService.post(title, description, price).then(() => {\n      window.alert(\"新課程已創建成功\");\n      navigate(\"/course\");\n    }).catch(error => {\n      console.log(error.response);\n      setMessage(error.response.data);\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"3rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, !currentUser && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, \"\\u5728\\u767C\\u5E03\\u65B0\\u8AB2\\u7A0B\\u4E4B\\u524D\\uFF0C\\u60A8\\u5FC5\\u9808\\u5148\\u767B\\u9304\\u3002\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary btn-lg\",\n    onClick: handleTakeToLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, \"\\u5E36\\u6211\\u9032\\u5165\\u767B\\u9304\\u9801\\u9762\\u3002\")), currentUser && currentUser.user.role !== \"instructor\" && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, \"\\u53EA\\u6709\\u8B1B\\u5E2B\\u53EF\\u4EE5\\u767C\\u5E03\\u65B0\\u8AB2\\u7A0B\\u3002\")), currentUser && currentUser.user.role == \"instructor\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"exampleforTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"\\u8AB2\\u7A0B\\u6A19\\u984C\\uFF1A\"), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"title\",\n    type: \"text\",\n    className: \"form-control\",\n    id: \"exampleforTitle\",\n    onChange: handleChangeTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"exampleforContent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, \"\\u5167\\u5BB9\\uFF1A\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control\",\n    id: \"exampleforContent\",\n    \"aria-describedby\": \"emailHelp\",\n    name: \"content\",\n    onChange: handleChangeDesciption,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"exampleforPrice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"\\u50F9\\u683C\\uFF1A\"), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"price\",\n    type: \"number\",\n    className: \"form-control\",\n    id: \"exampleforPrice\",\n    onChange: handleChangePrice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: postCourse,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, \"\\u4EA4\\u51FA\\u8868\\u55AE\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }), message && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-warning\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, message)));\n};\nexport default PostCourseComponent;","map":{"version":3,"names":["React","useState","useNavigate","CourseService","PostCourseComponent","props","currentUser","setCurrentUser","title","setTitle","description","setDescription","price","setPrice","message","setMessage","navigate","handleTakeToLogin","handleChangeTitle","e","target","value","handleChangeDesciption","handleChangePrice","postCourse","post","then","window","alert","catch","error","console","log","response","data","createElement","style","padding","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","user","role","for","name","type","id","onChange"],"sources":["/Users/Lawrence/Documents/程式設計學習/網頁全端開發/實作作品/實作9_Mern專案/client/src/components/postCourse-component.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport CourseService from \"../services/course.service\";\r\n\r\nconst PostCourseComponent = (props) => {\r\n  let { currentUser, setCurrentUser } = props;\r\n  let [title, setTitle] = useState(\"\");\r\n  let [description, setDescription] = useState(\"\");\r\n  let [price, setPrice] = useState(0);\r\n  let [message, setMessage] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const handleTakeToLogin = () => {\r\n    navigate(\"/login\");\r\n  };\r\n  const handleChangeTitle = (e) => {\r\n    setTitle(e.target.value);\r\n  };\r\n  const handleChangeDesciption = (e) => {\r\n    setDescription(e.target.value);\r\n  };\r\n  const handleChangePrice = (e) => {\r\n    setPrice(e.target.value);\r\n  };\r\n  const postCourse = () => {\r\n    CourseService.post(title, description, price)\r\n      .then(() => {\r\n        window.alert(\"新課程已創建成功\");\r\n        navigate(\"/course\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n        setMessage(error.response.data);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: \"3rem\" }}>\r\n      {!currentUser && (\r\n        <div>\r\n          <p>在發布新課程之前，您必須先登錄。</p>\r\n          <button\r\n            className=\"btn btn-primary btn-lg\"\r\n            onClick={handleTakeToLogin}\r\n          >\r\n            帶我進入登錄頁面。\r\n          </button>\r\n        </div>\r\n      )}\r\n      {currentUser && currentUser.user.role !== \"instructor\" && (\r\n        <div>\r\n          <p>只有講師可以發布新課程。</p>\r\n        </div>\r\n      )}\r\n      {currentUser && currentUser.user.role == \"instructor\" && (\r\n        <div className=\"form-group\">\r\n          <label for=\"exampleforTitle\">課程標題：</label>\r\n          <input\r\n            name=\"title\"\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"exampleforTitle\"\r\n            onChange={handleChangeTitle}\r\n          />\r\n          <br />\r\n          <label for=\"exampleforContent\">內容：</label>\r\n          <textarea\r\n            className=\"form-control\"\r\n            id=\"exampleforContent\"\r\n            aria-describedby=\"emailHelp\"\r\n            name=\"content\"\r\n            onChange={handleChangeDesciption}\r\n          />\r\n          <br />\r\n          <label for=\"exampleforPrice\">價格：</label>\r\n          <input\r\n            name=\"price\"\r\n            type=\"number\"\r\n            className=\"form-control\"\r\n            id=\"exampleforPrice\"\r\n            onChange={handleChangePrice}\r\n          />\r\n          <br />\r\n          <button className=\"btn btn-primary\" onClick={postCourse}>\r\n            交出表單\r\n          </button>\r\n          <br />\r\n          <br />\r\n          {message && (\r\n            <div className=\"alert alert-warning\" role=\"alert\">\r\n              {message}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostCourseComponent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}